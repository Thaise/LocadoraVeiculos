<h4>Veiculos</h4>

<section class="filtros">
  <form class="form-inline">
    <div class="form-group">
      <input type="text" class="form-control form-control-lg" placeholder="CNPJ" [(ngModel)]="filtro.cnpj" name="cnpj" title="CNPJ"
        pattern="\d{2,3}.\d{3}.\d{3}/\d{4}-\d{2}" [mask]="'cnpj'" />
    </div>
    <div class="form-group">
      <input type="text" class="form-control form-control-lg" placeholder="Nome" [(ngModel)]="filtro.nome" name="nome" title="Nome"
      />
    </div>

    <button type="submit" class="btn" (click)="filtrar()">Filtrar</button>
    <button type="submit" class="btn btn-default" (click)="limpar()">Limpar</button>

  </form>
</section>

<table class="table_report">
  <thead>
    <th>Sigla</th>
    <th>Nome</th>
    <th>CNPJ</th>
    <th>Ativo</th>
    <th>Ações</th>
  </thead>
  <tbody>
    <tr *ngFor="let item of veiculos">
      <td>{{item.sigla}}</td>
      <td>{{item.nome}}</td>
      <td>{{item.cnpj}}</td>
      <td>{{item.ativo == true ? 'Sim' : 'Não'}}</td>
      <td>
        <a class="btn btn-info" routerLink="/veiculo/visualizacao/{{item.idVeiculo}}">Ver</a>
        <a class="btn btn-primary" routerLink="/veiculo/cadastro/{{item.idVeiculo}}">Atualizar</a>
        <button type="submit" [class]="!item.ativo ? 'btn btn-success' : 'btn btn-danger'" (click)="desativarOuAtivar(item)">{{item.ativo ? 'Desativar' : 'Ativar'}}</button>
      </td>
    </tr>
  </tbody>
</table>

<nav class="paginacao">
  <ul class="pagination">
    <li class="controle-max-pag">
      <select name="qtdPorPagina" [disabled]="qtdPorPagina == 10 && qtdPorPagina >= totalRegistros" class="form-control form-control-sm" (change)="alterarLimitePag($event.target.value)">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
      </select>
    </li>
    <li>
      <button class="btn btn-secondary" [disabled]="pagina==1" (click)="paginar(1, $event)">
        <i class="fa fa-fast-backward"></i>
      </button>
    </li>
    <li>
      <button class="btn btn-secondary" [disabled]="pagina==1" (click)="paginar(pagina-1, $event)">
        <i class="fa fa-backward"></i>
      </button>
    </li>
    <li class="info-pag">
      <p>
        <strong>{{pagina}}</strong> de {{qtdPaginas}}</p>
    </li>
    <li>
      <button class="btn btn-secondary" [disabled]="qtdPaginas==1 || pagina==qtdPaginas" (click)="paginar(pagina+1, $event)">
        <i class="fa fa-forward"></i>
      </button>
    </li>
    <li>
      <button class="btn btn-secondary" [disabled]="qtdPaginas==1 || pagina==qtdPaginas" (click)="paginar(qtdPaginas, $event)">
        <i class="fa fa-fast-forward"></i>
      </button>
    </li>
  </ul>
  <p>Total de registros:
    <strong>{{ totalRegistros }}</strong>
</nav>
<section id="opcoes">
  <a class="btn btn-success" routerLink="/veiculo/cadastro">Incluir Veiculo</a>
</section>